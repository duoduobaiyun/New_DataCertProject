webpackJsonp([37],{2605:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(419),u=a(s),f=n(2606),p=a(f),m=n(658),h=(i=(0,m.connect)(function(e){return{}}))(c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"container-wrapper url-container-wrapper"},u.default.createElement("div",{className:"container member-container invoice-container"},u.default.createElement("div",{className:"system-setting"},u.default.createElement("p",{className:"table-name"},"地址管理"),u.default.createElement("hr",null),u.default.createElement("div",{className:"ctn",style:{marginTop:"30px"}},u.default.createElement("article",{style:{display:"block"}},u.default.createElement(p.default,null))))))}}]),t}(s.Component))||c;t.default=h},2606:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(419),u=a(s),f=n(658),p=n(896),m=n(869),h=n(708),b=a(h),y=n(2607),v=a(y),E=n(1087),g="",N=(i=(0,f.connect)(function(e){return{addressList:e.user.addressList}}))(c=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={addInvoiceAddress:!1,deleteAddress:!1},n.componentDidMount=function(){n.getInvoiceAddress()},n.getInvoiceAddress=function(){n.props.dispatch((0,m.getAddress)())},n.openAddInvoice=function(){g="",n.setState({addInvoiceAddress:!0})},n.closeAddInvoice=function(){g="",n.setState({addInvoiceAddress:!1}),n.getInvoiceAddress()},n.openSaveInvoice=function(e){g=e.id,n.setState({addInvoiceAddress:!0})},n.openDeleteModal=function(e){n.deleteId=e.id,n.forceUpdate(),n.setState({deleteAddress:!0})},n.closeDeleteModal=function(){n.deleteId="",n.forceUpdate(),n.setState({deleteAddress:!1})},n.deleteInvoiceAddress=function(){n.props.dispatch((0,m.deleteAddress)({id:n.deleteId},function(){n.closeDeleteModal()}))},n.deleteId="",n}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props.addressList,n=[{label:"收件人姓名",prop:"name",minWidth:"10%",render:function(e){return u.default.createElement("span",null,e.name)}},{label:"电话号码",prop:"phoneNumber",minWidth:"10%"},{label:"地址",prop:"address",minWidth:"10%",render:function(e){return u.default.createElement("span",null,e.address?e.address:"——")}},{label:"邮箱/邮编",prop:"postcode",minWidth:"10%",render:function(e){return u.default.createElement("span",null,e.postcode?e.postcode:"——")}},{label:"操作",minWidth:"10%",render:function(t){return[1===t.status?u.default.createElement("span",{className:"entrust",style:{marginRight:10,cursor:"default"}},"默认地址"):"",u.default.createElement("span",{className:"operate-blue",style:{border:"none",marginRight:10},onClick:function(n){return e.openSaveInvoice(t,n)}},"修改"),u.default.createElement("span",{className:"operate-blue",style:{border:"none"},onClick:function(n){return e.openDeleteModal(t,n)}},"删除")]}}];return u.default.createElement("div",{className:"invoice-address"},u.default.createElement("p",{className:"invoice-notice"},"须知：最多保存5个地址"),t.length<=4?u.default.createElement("div",{className:"common-table-filter"},u.default.createElement("button",{className:"button-add",onClick:this.openAddInvoice},"新增地址")):"",u.default.createElement("div",{className:"common-table-wrapper"},u.default.createElement(E.Table,{style:{width:"100%"},columns:n,data:t})),this.state.addInvoiceAddress===!0?u.default.createElement(v.default,{hideModel:this.closeAddInvoice,id:g}):"",this.state.deleteAddress===!0?u.default.createElement(p.ModalContainer,{onClose:this.closeDeleteModal},u.default.createElement(p.ModalDialog,{onClose:this.closeDeleteModal,width:665,className:"example-dialog",dismissOnBackgroundClick:!0},u.default.createElement("h1",null,b.default.translate("evidence.delete")),u.default.createElement("form",{className:"confirm"},u.default.createElement("p",null,"是否删除本条地址？"),u.default.createElement("div",{className:"button-group"},u.default.createElement("button",{type:"button",className:"yes",onClick:this.deleteInvoiceAddress},b.default.translate("notification.delete")))))):null)}}]),t}(s.Component))||c;t.default=N},2607:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=n(419),f=a(u),p=n(896),m=n(1038),h=n(1083),b=a(h),y=n(1085),v=a(y),E=n(1086),g=a(E),N=n(869),_=["name","phoneNumber","address","postcode"],w=!1,O=!1,j="",k=0,A=function(e){return new b.default(e).nonEmpty("name","收件人姓名").phoneNumber("phoneNumber","收件人手机号").nonEmpty("address","收件人地址").nonEmpty("postcode","收件人邮编").errors},C=function(e){var t=e.user.addressList;if(j)return t=t.filter(function(e){return e.id===j}),0===k&&(O=1===t[0].status,k+=1),s({},t[0])},I=(i=(0,m.reduxForm)({form:"add-invoice-address",fields:_,validate:A},function(e){return{initialValues:s({},C(e)),onSubmit:function(e,t){var n=void 0;n=O===!1?0:1,e.status=n,j?(e.id=j,t((0,N.changeAddress)(e,function(){w=!0}))):t((0,N.addAddress)(e,function(){w=!0}))}}}))(c=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentWillMount=function(){},n.changeCheck=function(){O=!O,n.forceUpdate()},j=e.id,n}return o(t,e),d(t,[{key:"hide",value:function(){this.props.hideModel(),this.forceUpdate(),O=!1,j="",w=!1,k=0}},{key:"render",value:function(){var e=this,t=this.props,n=t.fields,a=n.name,r=n.phoneNumber,l=n.address,o=n.postcode,i=t.handleSubmit;w===!0&&this.hide();var c={item:{marginRight:20,width:102}};return f.default.createElement(p.ModalContainer,{onClose:function(){return e.hide()}},f.default.createElement(p.ModalDialog,{onClose:function(){return e.hide()},width:560,className:"example-dialog",dismissOnBackgroundClick:!0},f.default.createElement("h1",{className:"copyright-model-title"},"新增地址"),f.default.createElement("form",{className:"black-white-model",onSubmit:i},f.default.createElement("div",{className:"item"},f.default.createElement("span",{className:"item-name required",style:c.item},"收件人姓名"),f.default.createElement(g.default,s({placeholder:"请输入收件人姓名",type:"text"},v.default.extract(a),{file:a}))),f.default.createElement("div",{className:"item"},f.default.createElement("span",{className:"item-name required",style:c.item},"详细地址"),f.default.createElement(g.default,s({placeholder:"请输入收件人详细地址",type:"text"},v.default.extract(l),{file:l}))),f.default.createElement("div",{className:"item"},f.default.createElement("span",{className:"item-name required",style:c.item},"邮箱/邮政编码"),f.default.createElement(g.default,s({placeholder:"请输入收件人邮箱/邮政编码",type:"text"},v.default.extract(o),{file:o}))),f.default.createElement("div",{className:"item"},f.default.createElement("span",{className:"item-name required",style:c.item},"手机号"),f.default.createElement(g.default,s({placeholder:"请输入收件人手机号",type:"text"},v.default.extract(r),{file:r}))),f.default.createElement("div",{className:"item"},f.default.createElement("input",{type:"checkbox",id:"accept",checked:O,onChange:this.changeCheck,autoComplete:"off"}),f.default.createElement("label",{htmlFor:"accept"}),f.default.createElement("label",null,"设置为默认地址")),f.default.createElement("div",{className:"button-group",style:{marginLeft:"110px"}},f.default.createElement("button",{className:"blue-button",type:"submit"},j?"修改":"添加")))))}}]),t}(u.Component))||c;t.default=I}});